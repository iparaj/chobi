<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Paraj ‚Äî Photography</title>
  <meta name="description" content="Photography portfolio with albums and per‚Äëalbum passcodes" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{ --bg:#0b0c0f; --card:#14161a; --text:#e8ecf1; --muted:#a8b3c1; --accent:#7dd3fc; --maxw:1200px; --radius:18px; }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:radial-gradient(1200px 600px at 80% -20%, #10223555, transparent), var(--bg);color:var(--text)}
    a{color:inherit;text-decoration:none}
    header{position:sticky;top:0;background:linear-gradient(180deg, #0b0c0ff5, #0b0c0fdd 60%, #0b0c0f00);backdrop-filter:saturate(140%) blur(6px);z-index:50}
    .nav{max-width:var(--maxw);margin:0 auto;display:flex;align-items:center;gap:16px;padding:14px 20px}
    .brand{font-weight:800;letter-spacing:0.5px}
    .spacer{flex:1}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid #243041;border-radius:999px;background:#10141b;color:var(--text)}
    .btn:hover{border-color:#2f4157;background:#0e1319}
    main{max-width:var(--maxw);margin:0 auto;padding:24px 20px 80px}
    .hero{display:grid;grid-template-columns:1.2fr 1fr;gap:26px;align-items:center;padding:42px 0 12px}
    .hero h1{font-size:clamp(28px,4vw,46px);line-height:1.1;margin:0 0 10px}
    .hero p{color:var(--muted);margin:0 0 18px}
    .chip{display:inline-block;padding:6px 10px;border:1px solid #263241;border-radius:999px;color:#cbe8ff;background:#0f1620;margin-right:8px;font-size:12px}
    .albums{margin-top:28px;display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
    .album-card{position:relative;border-radius:16px;overflow:hidden;background:var(--card);border:1px solid #1c2532;cursor:pointer}
    .album-card img{width:100%;height:220px;object-fit:cover;display:block;filter:saturate(1.05);transition:transform .4s ease}
    .album-card:hover img{transform:scale(1.03)}
    .album-info{padding:12px 14px;display:flex;align-items:center;justify-content:space-between}
    .album-title{font-weight:600}
    .lock{font-size:12px;color:#cbd5e1;border:1px solid #2a394f;border-radius:999px;padding:4px 8px;background:#0f1620}
    .span-4{grid-column:span 4}
    .span-6{grid-column:span 6}
    /* Gallery */
    .hidden{display:none}
    .gallery-grid{margin-top:18px;display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
    .photo{position:relative;border-radius:16px;overflow:hidden;background:var(--card);border:1px solid #1c2532}
    .photo img{width:100%;height:100%;object-fit:cover;display:block}
    .span-3{grid-column:span 3}
    .span-4{grid-column:span 4}
    .span-6{grid-column:span 6}
    .tall{grid-row:span 2}
    .panel{background:var(--card);border:1px solid #1c2532;border-radius:var(--radius);padding:18px}
    h2{margin:0 0 12px;font-size:22px}
    p{line-height:1.6}
    .crumbs{display:flex;gap:8px;align-items:center;margin:10px 0 0;color:var(--muted)}
    .pwd-form{display:flex;gap:10px;align-items:center;margin:12px 0}
    input[type="password"],input[type="text"],input[type="email"],textarea{width:100%;padding:12px 14px;border-radius:12px;border:1px solid #253243;background:#0e141b;color:var(--text)}
    footer{max-width:var(--maxw);margin:0 auto;padding:28px 20px 56px;color:var(--muted)}
    @media(max-width:900px){ .span-6{grid-column:span 12} .span-4{grid-column:span 6} .span-3{grid-column:span 6} .hero{grid-template-columns:1fr} }
  </style>
  <style>
    :root{ --bg:#0b0c0f; --card:#111318; --text:#e8ecf1; --muted:#a8b3c1; --accent:#7dd3fc; --maxw:1200px; --radius:18px; --ring:#2b8dd8; }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:radial-gradient(1200px 600px at 80% -20%, #10223555, transparent), var(--bg);color:var(--text)}
    a{color:inherit;text-decoration:none}
    header{position:sticky;top:0;background:linear-gradient(180deg, #0b0c0ff5, #0b0c0fdd 60%, #0b0c0f00);backdrop-filter:saturate(140%) blur(6px);z-index:50}
    .nav{max-width:var(--maxw);margin:0 auto;display:flex;align-items:center;gap:16px;padding:14px 20px}
    .brand{font-weight:800;letter-spacing:0.5px}
    .spacer{flex:1}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid #243041;border-radius:999px;background:#10141b;color:var(--text);transition:transform .18s ease, border-color .18s ease, background .18s ease}
    .btn:hover{border-color:#2f4157;background:#0e1319;transform:translateY(-1px)}
    main{max-width:var(--maxw);margin:0 auto;padding:24px 20px 80px}
    .hero{display:grid;grid-template-columns:1.2fr 1fr;gap:26px;align-items:center;padding:42px 0 12px}
    .hero h1{font-size:clamp(28px,4vw,46px);line-height:1.1;margin:0 0 10px}
    .hero p{color:var(--muted);margin:0 0 18px}
    .chip{display:inline-block;padding:6px 10px;border:1px solid #263241;border-radius:999px;color:#cbe8ff;background:#0f1620;margin-right:8px;font-size:12px}

    /* Sticky Albums Header */
    .albums-header{position:sticky;top:64px;z-index:40;background:linear-gradient(180deg,#0b0c0fee,#0b0c0fcc 70%,transparent);backdrop-filter:saturate(130%) blur(6px);border-bottom:1px solid #1c2532}
    .albums-header .inner{max-width:var(--maxw);margin:0 auto;padding:10px 20px;display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    .title-sm{font-weight:700;letter-spacing:.3px;margin-right:8px}
    .filter{display:inline-flex;gap:6px;align-items:center;border:1px solid #243041;background:#0f1420;border-radius:999px;padding:4px}
    .filter button{border:0;background:transparent;color:#cfe6ff;padding:8px 12px;border-radius:999px;cursor:pointer;font-size:13px;transition:background .18s ease}
    .filter button[aria-pressed="true"]{background:#162032;outline:2px solid #1d2d45}

    /* Album Grid ‚Äî refined card typography */
    .albums{margin-top:16px;display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .album-card{position:relative;border-radius:22px;overflow:hidden;background:var(--card);border:1px solid #1b2430;cursor:pointer;transition:transform .22s ease, box-shadow .22s ease, border-color .22s ease}
    .album-card:hover{transform:translateY(-2px);box-shadow:0 10px 30px #0006;border-color:#263243}
    .album-thumb{position:relative;aspect-ratio:16/10;overflow:hidden}
    .album-thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:saturate(1.07);transform:scale(1.01);transition:transform .5s ease}
    .album-card:hover .album-thumb img{transform:scale(1.06)}
    .album-info{padding:12px 14px 14px;display:flex;align-items:center;justify-content:space-between}
    .album-title{font-weight:700;letter-spacing:.2px}
    .album-meta{display:flex;gap:8px;align-items:center}
    .pill{font-size:11px;color:#cbd5e1;border:1px solid #2a394f;border-radius:999px;padding:4px 8px;background:#0f1620}
    .span-4{grid-column:span 4}
    .span-6{grid-column:span 6}

    /* Viewer grid: uniform tiles like YouNMe (same-size cells) */
    .gallery-grid{margin-top:18px;display:grid;grid-template-columns:repeat(12,1fr);gap:10px}
    .photo{position:relative;border-radius:16px;overflow:hidden;background:var(--card);border:1px solid #1c2532;transition:transform .18s ease}
    .photo:hover{transform:translateY(-1px)}
    .photo .tile{width:100%;aspect-ratio:4/3;object-fit:cover;display:block}
    .span-3{grid-column:span 3}

    /* Share bar */
    .sharebar{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
    .sharebar .btn{padding:8px 12px}

    .panel{background:var(--card);border:1px solid #1c2532;border-radius:var(--radius);padding:18px}
    h2{margin:0 0 12px;font-size:22px}
    p{line-height:1.6}
    .crumbs{display:flex;gap:8px;align-items:center;margin:10px 0 0;color:var(--muted)}
    .pwd-form{display:flex;gap:10px;align-items:center;margin:12px 0}
    input[type="password"],input[type="text"],input[type="email"],textarea{width:100%;padding:12px 14px;border-radius:12px;border:1px solid #253243;background:#0e141b;color:var(--text)}
    input:focus,textarea:focus{outline:2px solid var(--ring);border-color:transparent}
    footer{max-width:var(--maxw);margin:0 auto;padding:28px 20px 56px;color:var(--muted)}
    @media(max-width:1000px){ .span-6{grid-column:span 12} .span-4{grid-column:span 6} }
    @media(max-width:640px){ .span-4,.span-3{grid-column:span 12} .albums-header{top:56px} }
  </style>
</head>e>
    :root{ --bg:#0b0c0f; --card:#111318; --text:#e8ecf1; --muted:#a8b3c1; --accent:#7dd3fc; --maxw:1200px; --radius:18px; --ring:#2b8dd8; }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:radial-gradient(1200px 600px at 80% -20%, #10223555, transparent), var(--bg);color:var(--text)}
    a{color:inherit;text-decoration:none}
    header{position:sticky;top:0;background:linear-gradient(180deg, #0b0c0ff5, #0b0c0fdd 60%, #0b0c0f00);backdrop-filter:saturate(140%) blur(6px);z-index:50}
    .nav{max-width:var(--maxw);margin:0 auto;display:flex;align-items:center;gap:16px;padding:14px 20px}
    .brand{font-weight:800;letter-spacing:0.5px}
    .spacer{flex:1}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid #243041;border-radius:999px;background:#10141b;color:var(--text);transition:transform .18s ease, border-color .18s ease, background .18s ease}
    .btn:hover{border-color:#2f4157;background:#0e1319;transform:translateY(-1px)}
    main{max-width:var(--maxw);margin:0 auto;padding:24px 20px 80px}
    .hero{display:grid;grid-template-columns:1<section class="albums-header" aria-label="Albums toolbar">
  <div class="inner">
    <div class="title-sm">Albums</div>
    <div role="group" aria-label="Category filter" class="filter" id="filterGrp">
      <button type="button" data-filter="all" aria-pressed="true">All</button>
      <button type="button" data-filter="travel" aria-pressed="false">Travel</button>
      <button type="button" data-filter="work" aria-pressed="false">Work</button>
    </div>
  </div>
</section>
<section id="albums" class="albums" aria-label="Albums grid"></section>1.1;margin:0 0 10px}
    .hero p{color:var(--muted);margin:0 0 18px}
    .chip{display:inline-block;padding:6px 10px;border:1px solid #263241;border-radius:999px;color:#cbe8ff;background:#0f1620;margin-right:8px;font-size:12px}

    /* Sticky Albums Header */
    .albums-header{position:sticky;top:64px;z-index:40;background:linear-gradient(180deg,#0b0c0fee,#0b0c0fcc 70%,transparent);backdrop-filter:saturate(130%) blur(6px);border-bottom:1px solid #1c2532}
    .albums-header .inner{max-width:var(--maxw);margin:0 auto;padding:10px 20px;display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    .title-sm{font-weight:700;letter-spacing:.3px;margin-right:8px}
    .filter{display:inline-flex;gap:6px;align-items:center;border:1px solid #243041;background:#0f1420;border-radius:999px;padding:4px}
    .filter button{border:0;background:transparent;color:#cfe6ff;padding:8px 12px;border-radius:999px;cursor:pointer;font-size:13px;transition:background .18s ease}
    .filter button[aria-pressed="true"]{background:#162032;outline:2px solid #1d2d45}

    /* Album Grid ‚Äî refined card typography */
    .albums{margin-top:16px;display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .album-card{position:relative;border-radius:22px;overflow:hidden;background:var(--card);border:1px solid #1b2430;cursor:pointer;transition:transform .22s ease, box-shadow .22s ease, border-color .22s ease}
    .album-card:hover{transform:translateY(-2px);box-shadow:0 10px 30px #0006;border-color:#263243}
    .album-thumb{position:relative;aspect-ratio:16/10;overflow:hidden}
    .album-thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:saturate(1.07);transform:scale(1.01);transition:transform .5s ease}
    .album-card:hover .album-thumb img{transform:scale(1.06)}
    .album-info{padding:12px 14px 14px;display:flex;align-items:center;justify-content:space-between}
    .album-title{font-weight:700;letter-spacing:.2px}
    .album-meta{display:flex;gap:8px;align-items:center}
    .pill{font-size:11px;color:#cbd5e1;border:1px solid #2a394f;border-radius:999px;padding:4px 8px;background:#0f1620}
    .span-4{grid-column:span 4}
    .span-6{grid-column:span 6}

    /* Viewer grid: uniform tiles like YouNMe (same-size cells) */
    .gallery-grid{margin-top:18px;display:grid;grid-template-columns:repeat(12,1fr);gap:10px}
    .photo{position:relative;border-radius:16px;overflow:hidden;background:var(--card);border:1px solid #1c2532;transition:transfoconst ALBUMS = [
  {
    title: 'Travel ‚Äî Himalaya', slug: 'himalaya', cover: 'images/himalaya/cover.jpg',
    category: 'travel',
    passcodeHash: null,
    images: [
      'images/himalaya/01.jpg','images/himalaya/02.jpg','images/himalaya/03.jpg','images/himalaya/04.jpg'
    ]
  },
  {
    title: 'Client ‚Äî A & R Wedding', slug: 'ar-wedding', cover: 'images/ar-wedding/cover.jpg',
    category: 'work',
    passcodeHash: 'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855',
    images: [
      'images/ar-wedding/01.jpg','images/ar-wedding/02.jpg','images/ar-wedding/03.jpg','images/ar-wedding/04.jpg'
    ]
  },
  {
    title: 'Street ‚Äî Kolkata', slug: 'kolkata-street', cover: 'images/kolkata/cover.jpg',
    category: 'travel',
    passcodeHash: null,
    images: [
      'images/kolkata/01.jpg','images/kolkata/02.jpg','images/kolkata/03.jpg','images/kolkata/04.jpg'
    ]
  }
];footer{max-width:var(--maxw);margin:0 auto;padding:28px 20px 56px;color:var(--muted)}
    @media(function renderAlbums(){
  albumsEl.innerHTML = '';
  const data = ALBUMS.filter(a=> ACTIVE_FILTER==='all' ? true : a.category===ACTIVE_FILTER);
  data.forEach((a)=>{
    const card = document.createElement('article');
    card.className = 'album-card span-4';
    card.setAttribute('data-slug', a.slug);
    card.innerHTML = `
      <div class="album-thumb"><img src="${a.cover}" alt="${a.title} cover" loading="lazy"/></div>
      <div class="album-info">
        <div>
          <div class="album-title">${a.title}</div>
          <div style="font-size:12px;color:#94a3b8;margin-top:2px;text-transform:capitalize">${a.category}</div>
        </div>
        <div class="album-meta">
          <span class="pill">${a.passcodeHash ? 'üîí Private' : 'Public'}</span>
        </div>
      </div>`;
    card.addEventListener('click', ()=> openAlbum(a.slug));
    albumsEl.appendChild(card);
  });
}lass="spacer"></div>
      <a class="btn" href="#albums">Albums</a>
      <a class="btn" href="#about">About</a>
      <a class="btn" href="#contact">Contact</a>
    </nav>
  </header>

  <main>
    <section class="hero" aria-labelledby="title">
      <div>
        <div class="chip">Portfolio</div>
        <div class="chip">Client Galleries</div>
 renderAlbums();

// ---- Filters ----
const filterGrp = document.getElementById('filterGrp');
let ACTIVE_FILTER = 'all';
filterGrp.addEventListener('click', (e)=>{
  if(e.target.tagName !== 'BUTTON') return;
  ACTIVE_FILTER = e.target.dataset.filter;
  for(const btn of filterGrp.querySelectorAll('button')) btn.setAttribute('aria-pressed', btn===e.target ? 'true' : 'false');
  renderAlbums();
});title">Albums & private deliveries.</h1>
        <p>Create multiple albums. Lock any album with its own passcode. All client‚Äëside‚Äîperfect for GitHub Pages. (Note: client‚Äëside locks are for privacy/convenience, not bank‚Äëlevel security.)</p>
        <a class="btn" href="#albums">View Albums</a>
      </div>
      <div class="panel">
        <strong>How it works:</strong>
        <ol style="margin:6px 0 0 18px;color:var(--muted)">
          <li>Define albums in the <code>ALBUMS</code> array (title, slug, cover, images).</li>
          <li>Optionally add a passcode‚Äîstored as a SHA‚Äë256 hash.</li>
          <li>Click an album ‚Üí enter passcode (if set) ‚Üí view gallery.</li>
        </ol>
      </div>
    </section>

    <!-- Album Grid -->
    <section class="albums-header" aria-label="Albums toolbar">
  <div class="inner">
    <div class="title-sm">Albums</div>
    <div role="group" aria-label="Category filter" class="filter" id="filterGrp">
      <button type="button" data-filter="all" aria-pressed="true">All</button>
      <button type="button" data-filter="travel" aria-pressed="false">Travel</button>
      <button type="button" data-filter="work" aria-pressed=function renderGallery(album){
  gallery.innerHTML = '';
  // Share bar
  const share = document.createElement('div');
  share.className = 'sharebar';
  share.innerHTML = `
    <button class="btn" onclick="shareAlbum('${album.slug}')">Share Album</button>
    <button class="btn" onclick="shareCurrent('${album.slug}')">Share Page</button>
  `;
  gallery.appendChild(share);

  // Uniform grid: all tiles same 4:3 aspect like YouNMe style
  album.images.forEach((src,idx)=>{
    const fig = document.createElement('figure');
    fig.className = `photo span-3`;
    fig.innerHTML = `<img class="tile" src="${src}" alt="${album.title} ${idx+1}" loading="lazy">`;
    gallery.appendChild(fig);
  });
  gallery.classList.remove('hidden');
  bindLightbox();
}ums" id="backLink">‚Üê Back to albums</a> ‚Ä¢ <span id="albumName"></span></div>
      <div id="lockPanel" class="panel hidden">
        <h2>Enter passcode</h2>
        <form class="pwd-form" onsubmit="unlock(event)">
          <input id="pwd" type="password" placeholder="Album passcode" autocomplete="current-password" required />
          <button class="btn" type="submit">Unlock</button>
          <small id="pwdStatus"></small>
        </form>
      </div>
      <div id="gallery" class="gallery-grid hidden"></div>
    </section>

    <section id="about" class="panel" style="margin-top:42px">
      <h2>About</h2>
      <p>Hi, I‚Äôm <strong>Paraj</strong> ‚Äî a researcher and photographer based in India. For assignments or prints, drop me a note.</p>
      <p style="opacity:.6">¬© <span id="year"></span> Paraj. GitHub Pages, no frameworks.</p>
    </section>

    <section id="contact" class="panel" style="margin-top:14px">
      <h2>Contact</h2>
      <form onsubmit="sendMail(event)">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <input id="name" placeholder="Your name" required />
          <input id="email" type="email" placeholder="you@example.com" required />
        </div>
        <textarea id="message" rows="4" placeholder="Hello Paraj, I‚Äôd like to‚Ä¶" required style="margin-top:12px"></textarea>
        <div style="margin-top:12px;display:flex;gap:10px;align-items:center">
          <button class="btn" type="submit">Send</button>
          <small id="status" aria-live="polite"></small>
        </div>
      </form>
    </section>
  </main>

  <footer>
    <div>Built with ‚ù§ ‚Äî <a href="#" onclick="window.scrollTo({top:0,behavior:'smooth'})">Back to top</a></div>
  </footer>

  <!-- Lightbox -->
  <dialog id="lightbox" style="padding:0;border:none;background:#000;max-width:min(95vw,1200px);max-height:90vh;border-radius:14px;">
    <img id="lightImg" alt="Full view" style="width:100%;height:auto;display:block" />
  </dialog>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // ---- CONFIGURE YOUR ALBUMS HERE ----
    // passcode: set to null for public album; otherwise provide the SHA-256 hash (hex) of the passcode string.
    // Use the helper at the bottom (hashPasscode('mypin').then(console.log)) to generate once and paste here.
    const ALBUMS = [
  {
    title: 'Travel ‚Äî Himalaya', slug: 'himalaya', cover: 'images/himalaya/cover.jpg',
    category: 'travel',
    passcodeHash: null,
    images: [
      'images/himalaya/01.jpg','images/himalaya/02.jpg','images/himalaya/03.jpg','images/himalaya/04.jpg'
    ]
  },
  {
    title: 'Client ‚Äî A & R Wedding', slug: 'ar-wedding', cover: 'images/ar-wedding/cover.jpg',
    category: 'work',
    passcodeHash: 'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855',
    images: [
      'images/ar-wedding/01.jpg','images/ar-wedding/02.jpg','images/ar-wedding/03.jpg','images/ar-wedding/04.jpg'
    ]
  },
  {
    title: 'Street ‚Äî Kolkata', slug: 'kolkata-street', cover: 'images/kolkata/cover.jpg',
    category: 'travel',
    passcodeHash: null,
    images: [
      'images/kolkata/01.jpg','images/kolkata/02.jpg','images/kolkata/03.jpg','images/kolkata/04.jpg'
    ]
  }
];

    // ---- RENDER ALBUM GRID ----
    const albumsEl = document.getElementById('albums');
    function renderAlbums(){
  albumsEl.innerHTML = '';
  const data = ALBUMS.filter(a=> ACTIVE_FILTER==='all' ? true : a.category===ACTIVE_FILTER);
  data.forEach((a)=>{
    const card = document.createElement('article');
    card.className = 'album-card span-4';
    card.setAttribute('data-slug', a.slug);
    card.innerHTML = `
      <div class="album-thumb"><img src="${a.cover}" alt="${a.title} cover" loading="lazy"/></div>
      <div class="album-info">
        <div>
          <div class="album-title">${a.title}</div>
          <div style="font-size:12px;color:#94a3b8;margin-top:2px;text-transform:capitalize">${a.category}</div>
        </div>
        <div class="album-meta">
          <span class="pill">${a.passcodeHash ? 'üîí Private' : 'Public'}</span>
        </div>
      </div>`;
    card.addEventListener('click', ()=> openAlbum(a.slug));
    albumsEl.appendChild(card);
  });
}" alt="${a.title} cover" loading="lazy"/>
          <div class="album-info">
            <div class="album-title">${a.title}</div>
            <div class="lock">${a.passcodeHash ? 'üîí Private' : 'Public'}</div>
          </div>`;
        card.addEventListener('click', ()=> openAlbum(a.slug));
        albumsEl.appendChild(card);
      });
    }
    renderAlbums();

// ---- Filters ----
const filterGrp = document.getElementById('filterGrp');
let ACTIVE_FILTER = 'all';
filterGrp.addEventListener('click', (e)=>{
  if(e.target.tagName !== 'BUTTON') return;
  ACTIVE_FILTER = e.target.dataset.filter;
  for(const btn of filterGrp.querySelectorAll('button')) btn.setAttribute('aria-pressed', btn===e.target ? 'true' : 'false');
  renderAlbums();
});

    // ---- VIEWER LOGIC ----
    const viewer = document.getElementById('viewer');
    const lockPanel = document.getElementById('lockPanel');
    const gallery = document.getElementById('gallery');
    const albumName = document.getElementById('albumName');
    const backLink = document.getElementById('backLink');

    backLink.addEventListener('click', ()=>{
      viewer.classList.add('hidden');
      document.getElementById('albums').classList.remove('hidden');
      history.replaceState(null,'','#albums');
    });

    let ACTIVE_ALBUM = null;

    async function openAlbum(slug){
      const album = ALBUMS.find(a=>a.slug===slug);
      if(!album) return;
      ACTIVE_ALBUM = album;
      albumName.textContent = album.title;
      document.getElementById('albums').classList.add('hidden');
      viewer.classList.remove('hidden');
      history.replaceState(null,'',`#album-${slug}`);

      if(album.passcodeHash){
        lockPanel.classList.remove('hidden');
        gallery.classList.add('hidden');
        document.getElementById('pwd').focus();
      } else {
        lockPanel.classList.add('hidden');
        renderGallery(album);
      }
    }

    function renderGallery(album){
  gallery.innerHTML = '';
  // Share bar
  const share = document.createElement('div');
  share.className = 'sharebar';
  share.innerHTML = `
    <button class="btn" onclick="shareAlbum('${album.slug}')">Share Album</button>
    <button class="btn" onclick="shareCurrent('${album.slug}')">Share Page</button>
  `;
  gallery.appendChild(share);

  // Uniform grid: all tiles same 4:3 aspect like YouNMe style
  album.images.forEach((src,idx)=>{
    const fig = document.createElement('figure');
    fig.className = `photo span-3`;
    fig.innerHTML = `<img class="tile" src="${src}" alt="${album.title} ${idx+1}" loading="lazy">`;
    gallery.appendChild(fig);
  });
  gallery.classList.remove('hidden');
  bindLightbox();
}`;
        fig.innerHTML = `<img src="${src}" alt="${album.title} ${idx+1}" loading="lazy">`;
        gallery.appendChild(fig);
      });
      gallery.classList.remove('hidden');
      // Lightbox binding
      bindLightbox();
    }

    // ---- PASSCODE (client-side, SHA-256 check) ----
    async function hashPasscode(str){
      const enc = new TextEncoder().encode(str);
      const buf = await crypto.subtle.digest('SHA-256', enc);
      return Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,'0')).join('');
    }

    async function unlock(e){
      e.preventDefault();
      const pwd = document.getElementById('pwd').value;
      const status = document.getElementById('pwdStatus');
      status.textContent = 'Checking‚Ä¶';
      const h = await hashPasscode(pwd);
      if(ACTIVE_ALBUM && h === ACTIVE_ALBUM.passcodeHash){
        status.textContent = 'Unlocked';
        lockPanel.classList.add('hidden');
        renderGallery(ACTIVE_ALBUM);
      } else {
        status.textContent = 'Incorrect passcode';
      }
    }

    // ---- SHARE (Web Share API fallback to copy link) ----
async function shareAlbum(slug){
  const url = location.origin + location.pathname + `#album-${slug}`;
  const title = ACTIVE_ALBUM?.title || 'Album';
  const text = `Check out ${title}`;
  if(navigator.share){ try{ await navigator.share({ title, text, url }); } catch(_){} }
  else { await navigator.clipboard.writeText(url); alert('Link copied: '+url); }
}
async function shareCurrent(){
  const url = location.href;
  if(navigator.share){ try{ await navigator.share({ title: document.title, url }); } catch(_){} }
  else { await navigator.clipboard.writeText(url); alert('Link copied: '+url); }
}

/
    const lb = document.getElementById('lightbox');
    const lightImg = document.getElementById('lightImg');
    function bindLightbox(){
      document.querySelectorAll('#gallery img').forEach(img=>{
        img.addEventListener('click', ()=>{ lightImg.src = img.src; lightImg.alt = img.alt; lb.showModal(); });
      });
    }
    lb.addEventListener('click', e=>{ if(e.target===lb) lb.close(); });

    // ---- CONTACT MAILTO ----
    function sendMail(e){
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const message = document.getElementById('message').value.trim();
      const subject = encodeURIComponent(`Inquiry from ${name}`);
      const body = encodeURIComponent(`${message}\n\nFrom: ${name} <${email}>`);
      window.location.href = `mailto:your@email.com?subject=${subject}&body=${body}`;
      document.getElementById('status').textContent = 'Opening your email app‚Ä¶';
    }

    // Deep-link open if hash matches an album
    if(location.hash.startsWith('#album-')){
      const slug = location.hash.replace('#album-','');
      openAlbum(slug);
    }
  </script>
</body>
</html>
